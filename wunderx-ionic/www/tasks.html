<ion-header-bar class="bar-assertive">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    <h1 class="title">Tasks</h1>
</ion-header-bar>
<ion-content ng-controller="TasksCtrl as tasksCtrl">
    <ion-list>
        <div class="item item-input-inset">
            <label class="item-input-wrapper" style="background: white">
                <input type="text" placeholder="New task" ng-model="newTaskText" ng-disabled="tasksCtrl.isLoadingRx()">
            </label>
            <button class="button button-small button-positive" ng-click="tasksCtrl.addTask(newTaskText); newTaskText = null"
                    ng-disabled="tasksCtrl.isLoadingRx()">
                Add
            </button>
        </div>
        <div class="item item-divider" ng-if="tasksCtrl.todoRx().length > 0">
            Todo
        </div>
        <ion-checkbox ng-model="task.completed"
                      ng-model-options="{updateOn: ''}"
                      ng-click="tasksCtrl.taskToggle(task)"
                      ng-repeat="task in tasksCtrl.todoRx()">
            {{task.text}}
        </ion-checkbox>
        <div class="item item-divider" ng-if="tasksCtrl.completedRx().length > 0">
            Completed
        </div>
        <ion-checkbox ng-model="task.completed"
                      ng-model-options="{updateOn: ''}"
                      ng-click="tasksCtrl.taskToggle(task)"
                      ng-repeat="task in tasksCtrl.completedRx()">
            {{task.text}}
        </ion-checkbox>
    </ion-list>
</ion-content>
